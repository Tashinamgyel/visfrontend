<div fxLayout="column" class="components-container-gt-xs" [ngClass.xs]="'components-container-xs'" fxLayoutGap="20px">
  <div fxFlex class="button-component-holder mat-elevation-z4">
    <mat-toolbar class="button-header">
      <mat-toolbar class="button-header">
        <h5 class="p-2" style="padding-top: 20px; margin-left: 16px">Vaccination</h5>
      </mat-toolbar>
    </mat-toolbar>
    <div class="button-container">
      <mat-card>
        <form [formGroup]="treatmentForm" class="form-horizontal form">
          <div class="form-group row">
            <div class="col-md-12">
              <label class="textarea">Brief Observation </label>
              <mat-form-field style="width: 100%" appearance="outline" type="text">
                <textarea matInput rows="2" formControlName="observation"></textarea>
              </mat-form-field>
            </div>
          </div>

          <mat-card-content>
            <div class="form-group row">
              <div class="col-md-6">
                <label class="col-form-label">Vaccine Type <span class="text-danger">*</span></label>
                <mat-form-field appearance="outline" class="example-full-width">
                  <mat-select formControlName="vaccineTypeId">
                    <mat-option value="">Select Vaccines</mat-option>
                    <mat-option *ngFor="let vaccine of vaccineType" [value]="vaccine.id">{{
                      vaccine.vaccineName
                    }}</mat-option>
                  </mat-select>
                  <mat-error>Vaccine Type is required</mat-error>
                </mat-form-field>
              </div>

              <div class="col-md-6">
                <label class="col-form-label"> Vaccination Date <span class="text-danger">*</span></label>
                <mat-form-field appearance="outline" class="example-full-width">
                  <input [matDatepicker]="picker" [max]="maxDate" formControlName="treatmentDate" matInput readonly />
                  <mat-datepicker-toggle [for]="picker" matSuffix></mat-datepicker-toggle>
                  <mat-datepicker #picker></mat-datepicker>
                  <mat-error>Date is required</mat-error>
                </mat-form-field>
              </div>
            </div>
            <br />
            <div class="form-group row">
              <div class="col-md-6">
                <label class="col-form-label"> Due Date </label>
                <mat-form-field appearance="outline" class="example-full-width">
                  <input
                    [matDatepicker]="duePicker"
                    [readonly]="!editable"
                    [min]="minDate"
                    formControlName="dueDate"
                    matInput
                    readonly
                  />
                  <mat-datepicker-toggle [for]="duePicker" matSuffix></mat-datepicker-toggle>
                  <mat-datepicker #duePicker></mat-datepicker>
                  <mat-error>Due Date is required</mat-error>
                </mat-form-field>
              </div>
            </div>
            <br />

            <hr />
            <h6><strong>Adverse Events Following Immunization(AEFI)</strong></h6>
            <br />
            <div class="form-group row">
              <div class="col-md-12">
                <label class="col-form-label">Reaction </label>
                <mat-radio-group
                  (change)="changeReactionDetail($event)"
                  aria-label="Select an option"
                  class="mat-radio-group p-3"
                  formControlName="reactionDetail"
                >
                  <mat-radio-button value="Y">Yes </mat-radio-button>
                  <mat-radio-button value="N">No </mat-radio-button>
                </mat-radio-group>
              </div>
            </div>
            <div class="form-group row" *ngIf="treatmentForm.value.reactionDetail === 'Y'">
              <!-- <div *ngIf="reactionDetail === true"> -->

              <div class="col-md-6">
                <label class="col-form-label">Reaction Name</label>
                <mat-form-field appearance="outline" class="example-full-width">
                  <mat-select formControlName="reactionId">
                    <mat-option value=""> Select Reaction</mat-option>
                    <mat-option *ngFor="let react of reactions" [value]="react.id"
                      >{{ react.reactionName }}
                    </mat-option>
                  </mat-select>
                  <mat-error>Reaction is required</mat-error>
                </mat-form-field>
              </div>
            </div>

            <hr />
          </mat-card-content>
          <mat-card-actions>
            <button (click)="saveVaccination()" style="background-color: green; color: white" mat-raised-button>
              Complete
            </button>
            <button (click)="saveVaccinationDraftData()" color="accent" mat-raised-button>Save As Draft</button>
            <!-- <button mat-raised-button color="primary" (click)="printPage()">
              <mat-icon>print</mat-icon>&nbsp;Print
            </button> -->
          </mat-card-actions>
          <!-- </div> -->
        </form>
      </mat-card>
    </div>
  </div>
</div>
