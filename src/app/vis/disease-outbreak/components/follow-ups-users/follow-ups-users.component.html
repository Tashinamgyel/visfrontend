<mat-card>
  <div fxLayout="column" class="components-container-gt-xs" [ngClass.xs]="'components-container-xs'" fxLayoutGap="20px">
    <div fxFlex class="button-component-holder mat-elevation-z4">
      <mat-toolbar class="button-header">
        <h5 class="p-2" style="padding-top: 20px; margin-left: 20px">Disease Outbreak Report</h5>
      </mat-toolbar>
      <mat-expansion-panel (opened)="basicPanelOpenState = true" (opened)="basicPanelOpenState = true">
        <mat-expansion-panel-header>
          <mat-panel-title><strong>Follow-Up Report</strong></mat-panel-title>
        </mat-expansion-panel-header>
        <form [formGroup]="followUpForm" class="form-horizontal">
          <mat-card>
            <div class="form-group row">
              <div class="col-md-6">
                <label class="col-form-label">Outbreak ID</label>
                <mat-form-field appearance="outline" class="example-full-width">
                  <input formControlName="outbreakId" matInput name="outbreakId" readonly />
                </mat-form-field>
              </div>
              <div class="col-md-6">
                <label class="col-form-label"> Index Case Date</label>
                <mat-form-field appearance="outline" class="example-full-width">
                  <input [matDatepicker]="pic" formControlName="caseDate" [max]="maxDate" matInput readonly />
                  <mat-datepicker-toggle [for]="pic" matSuffix></mat-datepicker-toggle>
                  <mat-datepicker #pic></mat-datepicker>
                  <mat-error>Index case details required</mat-error>
                </mat-form-field>
              </div>
            </div>
            <div class="form-group row">
              <div class="col-md-6">
                <label class="col-form-label">Date of Follow-Up<span class="text-danger">*</span></label>
                <mat-form-field appearance="outline" class="example-full-width">
                  <input
                    [matDatepicker]="pics"
                    [max]="maxDate"
                    formControlName="followUpDate"
                    matInput
                    readonly
                    placeholder="Follow-Up Date"
                  />
                  <mat-datepicker-toggle [for]="pics" matSuffix></mat-datepicker-toggle>
                  <mat-datepicker #pics></mat-datepicker>
                  <mat-error>Date of Follow-Up is required</mat-error>
                </mat-form-field>
              </div>
            </div>
            <br />
          </mat-card>

          <hr />
          <mat-card>
            <!-- <mat-card-title> View Owner Details</mat-card-title> -->
            <h4 class="p-3" style="background-color: #327ebd; color: #fff">View Owner Details</h4>
            <cdk-virtual-scroll-viewport
              itemSize="5"
              orientation="horizontal"
              style="height: 200px"
              class="example-viewport"
            >
              <table mat-table [dataSource]="dataSource2" matSort class="mat-elevation-z1">
                <ng-container matColumnDef="slno">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Sl.No.</th>
                  <td mat-cell *matCellDef="let element; let i = index">
                    {{ paginatorRef.pageIndex * paginatorRef.pageSize + (i + 1) }}
                  </td>
                </ng-container>
                <ng-container matColumnDef="cidNumber">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>CID Number</th>
                  <td mat-cell *matCellDef="let element">{{ element.cidNumber }}</td>
                </ng-container>
                <ng-container matColumnDef="ownerName">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Owner Name</th>
                  <td mat-cell *matCellDef="let element">{{ element.ownerName }}</td>
                </ng-container>
                <ng-container matColumnDef="dzongkhagName">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Dzongkhag Name</th>
                  <td mat-cell *matCellDef="let element">{{ element.dzongkhagName }}</td>
                </ng-container>
                <ng-container matColumnDef="gewogName">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Gewog Name</th>
                  <td mat-cell *matCellDef="let element">{{ element.gewogName }}</td>
                </ng-container>
                <ng-container matColumnDef="villageName">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Village Name</th>
                  <td mat-cell *matCellDef="let element">{{ element.villageName }}</td>
                </ng-container>
                <ng-container matColumnDef="latitude">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Latitude</th>
                  <td mat-cell *matCellDef="let element">{{ element.latitude }}</td>
                </ng-container>
                <ng-container matColumnDef="longitude">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Longitude</th>
                  <td mat-cell *matCellDef="let element">{{ element.longitude }}</td>
                </ng-container>
                <ng-container matColumnDef="primaryDate">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Primary Date</th>
                  <td mat-cell *matCellDef="let element">{{ element.primaryDate | date }}</td>
                </ng-container>
                <ng-container matColumnDef="farmingName">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Farming System</th>
                  <td mat-cell *matCellDef="let element">{{ element.farmingName }}</td>
                </ng-container>
                <ng-container matColumnDef="lastVaccinationDate">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Last Vaccination Date</th>
                  <td mat-cell *matCellDef="let element">{{ element.lastVaccinationDate | date }}</td>
                </ng-container>
                <ng-container matColumnDef="view">
                  <th class="table-heading" mat-header-cell *matHeaderCellDef mat-sort-header>View</th>
                  <td mat-cell *matCellDef="let element">
                    <button mat-icon-button (click)="viewReport(element.cidNumber)" class="view-button">
                      <mat-icon>visibility</mat-icon>
                    </button>
                  </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumns2"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns2"></tr>
              </table>
            </cdk-virtual-scroll-viewport>
            <mat-paginator #paginatorRef [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
          </mat-card>
          <br />

          <mat-card>
            <mat-expansion-panel (opened)="basicPanelOpenState = true" (opened)="basicPanelOpenState = true">
              <mat-expansion-panel-header>
                <mat-panel-title><strong>View Details </strong></mat-panel-title>
              </mat-expansion-panel-header>
              <h5 class="p-4" style="padding-top: 20px">Follow Up Case Details ( Live Case/Dead).</h5>
              <table mat-table [dataSource]="dataSource6" matSort class="mat-elevation-z1">
                <ng-container matColumnDef="slno">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Sl.No.</th>
                  <td mat-cell *matCellDef="let element; let i = index">
                    {{ paginatorRef.pageIndex * paginatorRef.pageSize + (i + 1) }}
                  </td>
                </ng-container>
                <ng-container matColumnDef="cidNumber">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>CID Number</th>
                  <td mat-cell *matCellDef="let element">{{ element.cidNumber }}</td>
                </ng-container>
                <ng-container matColumnDef="speciesName">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Species</th>
                  <td mat-cell *matCellDef="let element">{{ element.speciesName }}</td>
                </ng-container>
                <ng-container matColumnDef="animalType">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Animal Type</th>
                  <td mat-cell *matCellDef="let element">{{ element.animalTypeName }}</td>
                </ng-container>
                <ng-container matColumnDef="breedName">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Breed</th>
                  <td mat-cell *matCellDef="let element">{{ element.breedName }}</td>
                </ng-container>
                <ng-container matColumnDef="age">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Age</th>
                  <td mat-cell *matCellDef="let element">{{ element.age }}</td>
                </ng-container>
                <ng-container matColumnDef="male">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Male</th>
                  <td mat-cell *matCellDef="let element">{{ element.male }}</td>
                </ng-container>
                <ng-container matColumnDef="female">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Female</th>
                  <td mat-cell *matCellDef="let element">{{ element.female }}</td>
                </ng-container>
                <ng-container matColumnDef="mixed">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Mixed</th>
                  <td mat-cell *matCellDef="let element">{{ element.mixed }}</td>
                </ng-container>
                <ng-container matColumnDef="total">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Total</th>
                  <td mat-cell *matCellDef="let element">{{ element.total }}</td>
                </ng-container>
                <ng-container matColumnDef="status">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
                  <td mat-cell *matCellDef="let element">{{ element.status }}</td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumns6"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns6"></tr>
              </table>
              <mat-paginator #paginatorRef [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons> </mat-paginator>

              <h5 class="p-4" style="padding-top: 20px">
                Add Number of Animals Culled/Slaughtered, Examined,Treated and Vaccinated in response to the disease
                outbreak.
              </h5>
              <table mat-table [dataSource]="dataSource7" matSort class="mat-elevation-z1">
                <ng-container matColumnDef="slno">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Sl.No.</th>
                  <td mat-cell *matCellDef="let element; let i = index">
                    {{ paginatorRef.pageIndex * paginatorRef.pageSize + (i + 1) }}
                  </td>
                </ng-container>
                <ng-container matColumnDef="cidNumber">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>CID Number</th>
                  <td mat-cell *matCellDef="let element">{{ element.cidNumber }}</td>
                </ng-container>
                <ng-container matColumnDef="fate">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Fate</th>
                  <td mat-cell *matCellDef="let element">{{ element.fate }}</td>
                </ng-container>
                <ng-container matColumnDef="speciesName">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Species</th>
                  <td mat-cell *matCellDef="let element">{{ element.speciesName }}</td>
                </ng-container>
                <ng-container matColumnDef="animalType">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Animal Type</th>
                  <td mat-cell *matCellDef="let element">{{ element.animalTypeName }}</td>
                </ng-container>
                <ng-container matColumnDef="breedName">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Breed</th>
                  <td mat-cell *matCellDef="let element">{{ element.breedName }}</td>
                </ng-container>
                <ng-container matColumnDef="numbers">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Number of Animals</th>
                  <td mat-cell *matCellDef="let element">{{ element.numbers }}</td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumns7"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns7"></tr>
              </table>
              <mat-paginator #paginatorRef [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons> </mat-paginator>
            </mat-expansion-panel>
          </mat-card>

          <mat-card>
            <h4 style="padding-top: 20px">Clinical Signs, Lesions and Diagnosis.</h4>
            <div class="form-group row">
              <div class="col-md-12">
                <div class="col-md-2">
                  <label class="textarea">Clinical Signs</label>
                </div>
                <div class="col-md-12">
                  <mat-form-field style="width: 100%" appearance="outline" type="text">
                    <textarea matInput rows="4" cols="20" matInput formControlName="clinicalSigns" readonly> </textarea>
                  </mat-form-field>
                </div>
              </div>
              <div class="col-md-12">
                <div class="col-md-2">
                  <label class="text">Lesions </label>
                </div>
                <div class="col-md-12">
                  <mat-form-field style="width: 100%" appearance="outline" type="text">
                    <textarea matInput rows="4" cols="20" matInput formControlName="lesions" readonly> </textarea>
                  </mat-form-field>
                </div>
              </div>
            </div>

            <div class="form-group row">
              <div class="col-md-6">
                <label class="col-form-label">Tentative Diagnosis <span class="text-danger">*</span></label>
                <mat-form-field appearance="outline" class="example-full-width">
                  <mat-select formControlName="tentativeDiseaseId">
                    <mat-option></mat-option>
                    <mat-option *ngFor="let disease of diseases" [value]="disease.id">
                      {{ disease.diseaseName }}
                    </mat-option>
                  </mat-select>
                  <mat-error>Tentative Diagnosis is required</mat-error>
                </mat-form-field>
              </div>
              <div class="col-md-6">
                <label class="col-form-label"> Differential Diagnosis</label>
                <mat-form-field appearance="outline" class="example-full-width">
                  <input formControlName="differentialDiagnosis" matInput name="differentialDiagnosis" readonly />
                </mat-form-field>
              </div>
            </div>
            <div class="form-group row">
              <div class="col-md-12">
                <label class="col-form-label">Laboratory Test</label>
                <mat-radio-group
                  (change)="changeSampleCollected()"
                  aria-label="Select an option"
                  class="mat-radio-group p-3"
                  formControlName="sampleCollected"
                >
                  <mat-radio-button [value]="1">Yes</mat-radio-button>
                  <mat-radio-button [value]="2">No</mat-radio-button>
                </mat-radio-group>
              </div>
            </div>
            <div *ngIf="sampleCollected === true">
              <h5 style="padding-top: 20px">Sample Collected</h5>
              <div class="form-group row">
                <div class="col-md-6">
                  <label class="col-form-label">Sample Type</label>
                  <mat-form-field appearance="outline" class="example-full-width">
                    <mat-select formControlName="sampleId">
                      <mat-option></mat-option>
                      <mat-option *ngFor="let sample of sampleType" [value]="sample.id">
                        {{ sample.sampleName }}
                      </mat-option>
                    </mat-select>
                    <mat-error>Sample Type is required</mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <label class="col-form-label"> Type of Test</label>
                  <mat-form-field appearance="outline" class="example-full-width">
                    <mat-select formControlName="testId">
                      <mat-option></mat-option>
                      <mat-option *ngFor="let test of typeOfTest" [value]="test.id">
                        {{ test.typeoftest }}
                      </mat-option>
                    </mat-select>
                    <mat-error>Type of Test is required</mat-error>
                  </mat-form-field>
                </div>
              </div>
              <br />
              <div class="form-group row">
                <div class="col-md-6">
                  <label class="col-form-label">Sample IDs</label>
                  <mat-form-field appearance="outline" class="example-full-width">
                    <input formControlName="sampleIds" matInput name="sampleIds" readonly />
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <label class="col-form-label">Date For Sample Sent</label>
                  <mat-form-field appearance="outline" class="example-full-width">
                    <input [matDatepicker]="pic" formControlName="dateSampleSent" matInput readonly />
                    <mat-datepicker-toggle [for]="pic" matSuffix></mat-datepicker-toggle>
                    <mat-datepicker #pic></mat-datepicker>
                    <mat-error>Date For Sample Sent required</mat-error>
                  </mat-form-field>
                </div>
              </div>
              <div class="form-group row">
                <div class="col-md-6">
                  <label class="col-form-label">Laboratory</label>
                  <mat-form-field appearance="outline" class="example-full-width">
                    <mat-select formControlName="laboratoryId">
                      <mat-option></mat-option>
                      <mat-option *ngFor="let lab of laboratorys" [value]="lab.id">{{ lab.labName }} </mat-option>
                    </mat-select>
                    <mat-error>Laboratory is required</mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <label class="col-form-label">Date Of Result Received</label>
                  <mat-form-field appearance="outline" class="example-full-width">
                    <input [matDatepicker]="pics" formControlName="dateResultReceived" matInput readonly />
                    <mat-datepicker-toggle [for]="pics" matSuffix></mat-datepicker-toggle>
                    <mat-datepicker #pics></mat-datepicker>
                    <mat-error>Date For Result Received required</mat-error>
                  </mat-form-field>
                </div>
              </div>
              <br />
              <div class="form-group row">
                <div class="col-md-6">
                  <label class="col-form-label">Test Result</label>
                  <mat-form-field appearance="outline" class="example-full-width">
                    <mat-select formControlName="resultId">
                      <mat-option></mat-option>
                      <mat-option *ngFor="let result of testResult" [value]="result.id">
                        {{ result.resultName }}
                      </mat-option>
                    </mat-select>
                    <mat-error>Test Result is required</mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <label class="col-form-label">Final Diagnosis</label>
                  <mat-form-field appearance="outline" class="example-full-width">
                    <mat-select formControlName="finalDiseaseId">
                      <mat-option></mat-option>
                      <mat-option *ngFor="let disease of diseases" [value]="disease.id">
                        {{ disease.diseaseName }}
                      </mat-option>
                    </mat-select>
                    <mat-error> Final Disease is required</mat-error>
                  </mat-form-field>
                </div>
              </div>
              <br />
              <div class="form-group row">
                <div class="col-md-6">
                  <label class="col-form-label">Basis of Diagnosis</label>
                  <mat-form-field appearance="outline" class="example-full-width">
                    <mat-select formControlName="basisDiagnosisIdUser">
                      <mat-option></mat-option>
                      <mat-option *ngFor="let bas of basis" [value]="bas.id">{{ bas.basisName }} </mat-option>
                    </mat-select>
                    <mat-error>Basis Of Diagnosis is required</mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <label class="col-form-label">Diagnosing Officer</label>
                  <mat-form-field appearance="outline" class="example-full-width">
                    <input formControlName="diagnosingOfficer" matInput name="sampleIds" readonly />
                  </mat-form-field>
                </div>
              </div>
            </div>
            <br />
            <div class="form-group row" *ngIf="sampleCollected === false">
              <div class="col-md-6">
                <label class="col-form-label">Final Diagnosis<span class="text-danger">*</span></label>
                <mat-form-field appearance="outline" class="example-full-width">
                  <mat-select formControlName="tentativeDiseaseId" disabled>
                    <mat-option *ngFor="let disease of diseases" [value]="disease.id"
                      >{{ disease.diseaseName }}
                    </mat-option>
                  </mat-select>
                  <mat-error>Final Diagnosis is required</mat-error>
                </mat-form-field>
              </div>
              <div class="col-md-6">
                <label class="col-form-label">Basis of Diagnosis</label>
                <mat-form-field appearance="outline" class="example-full-width">
                  <mat-select formControlName="basisId">
                    <mat-option></mat-option>
                    <mat-option *ngFor="let bas of basis" [value]="bas.id">{{ bas.basisName }} </mat-option>
                  </mat-select>
                  <mat-error>Basis Of Diagnosis is required</mat-error>
                </mat-form-field>
              </div>
            </div>
            <br />
            <hr />
            <h5>Epidemiology and Other Details</h5>

            <h6 style="padding-top: 20px">Susceptible Animals</h6>
            <table mat-table [dataSource]="dataSource5" matSort class="mat-elevation-z1">
              <ng-container matColumnDef="slno">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Sl.No.</th>
                <td mat-cell *matCellDef="let element; let i = index">
                  {{ paginatorRef.pageIndex * paginatorRef.pageSize + (i + 1) }}
                </td>
              </ng-container>
              <ng-container matColumnDef="speciesName">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Species</th>
                <td mat-cell *matCellDef="let element">{{ element.speciesName }}</td>
              </ng-container>
              <ng-container matColumnDef="animalType">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Animal Type</th>
                <td mat-cell *matCellDef="let element">{{ element.animalTypeName }}</td>
              </ng-container>
              <ng-container matColumnDef="susceptibleAnimals">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Susceptible Animals</th>
                <td mat-cell *matCellDef="let element">{{ element.susceptibleAnimals }}</td>
              </ng-container>
              <tr mat-header-row *matHeaderRowDef="displayedColumns5"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns5"></tr>
            </table>
            <mat-paginator #paginatorRef [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
            <div class="form-group row">
              <div class="col-md-12">
                <h6>Probable Source of the Outbreak</h6>
                <div class="col-md-12">
                  <mat-form-field style="width: 100%" appearance="outline" type="text">
                    <textarea matInput rows="4" cols="20" matInput formControlName="probableSource" readonly>
                    </textarea>
                  </mat-form-field>
                </div>
              </div>
            </div>

            <div class="form-group row">
              <div class="col-md-12">
                <!-- <div class="col-md-2">
                    <label class="textarea">Control Measures Implemented</label>
                  </div> -->
                <h6>Control Measures Implemented</h6>
                <div class="col-md-12">
                  <mat-form-field style="width: 100%" appearance="outline" type="text">
                    <textarea matInput rows="4" cols="20" matInput formControlName="controlMeasures" readonly>
                    </textarea>
                  </mat-form-field>
                </div>
              </div>
            </div>
          </mat-card>
        </form>
      </mat-expansion-panel>

      <form [formGroup]="followUpFormUser" class="form-horizontal form">
        <mat-card>
          <div class="form-group row">
            <div class="col-md-6">
              <label class="col-form-label">Outbreak ID </label>
              <mat-form-field appearance="outline" class="example-full-width">
                <input formControlName="outbreakId" matInput name="outbreakId" readonly />
              </mat-form-field>
            </div>
            <div class="col-md-6">
              <label class="col-form-label"> Index Case Date</label>
              <mat-form-field appearance="outline" class="example-full-width">
                <input [matDatepicker]="picIndex" formControlName="caseDate" matInput readonly />
                <mat-datepicker-toggle [for]="picIndex" matSuffix></mat-datepicker-toggle>
                <mat-datepicker #picIndex></mat-datepicker>
                <mat-error>Index case details required</mat-error>
              </mat-form-field>
            </div>
          </div>
          <div class="form-group row">
            <div class="col-md-6">
              <label class="col-form-label"> Date of Follow-Up<span class="text-danger">*</span></label>
              <mat-form-field appearance="outline" class="example-full-width">
                <input
                  [matDatepicker]="picsfollowUp"
                  [max]="maxDate"
                  formControlName="followUpDate"
                  matInput
                  readonly
                />
                <mat-datepicker-toggle [for]="picsfollowUp" matSuffix></mat-datepicker-toggle>
                <mat-datepicker #picsfollowUp></mat-datepicker>
                <mat-error>Index case details required</mat-error>
              </mat-form-field>
            </div>
          </div>
          <br />
        </mat-card>

        <mat-card>
          <mat-toolbar class="titleTopic">
            <h5 class="p-2;" style="padding-top: 5px; padding-left: 5px; background-color: #327ebd; color: #fff">
              Owner Details
            </h5>
          </mat-toolbar>

          <br />
          <mat-dialog-content>
            <button mat-raised-button color="primary" (click)="stepper.reset()">
              <mat-icon>add</mat-icon>Add Owner
            </button>
            <mat-horizontal-stepper linear #stepper>
              <mat-step [stepControl]="firstFormGroup">
                <form class="form-horizontal form" [formGroup]="firstFormGroup">
                  <ng-template matStepLabel>Fill Owner Details</ng-template>
                  <div class="form-group row">
                      <div class="col-md-6">
                        <label class="col-form-label">Ownership Status<span class="text-danger">*</span></label>
                        <mat-form-field class="example-full-width" appearance="outline">
                          <mat-select formControlName="ownershipStatus">
                            <mat-option value="">Select</mat-option>
                            <mat-option value="Owned">Owned</mat-option>
                            <mat-option value="Unowned">Stray</mat-option>
                          </mat-select>
                          <mat-error>Ownership Status is required</mat-error>
                        </mat-form-field>
                      </div>
                      </div>
                 <div class="form-group row" *ngIf="firstFormGroup.value.ownershipStatus === 'Owned'">
                    <div class="col-md-6">
                      <label class="col-form-label">CID Number<span class="text-danger">*</span>:</label>
                      <mat-form-field appearance="outline" class="example-full-width" [hideRequiredMarker]="false">
                        <input
                          matInput
                          formControlName="cidNumber"
                          (change)="getCitizen($event.target.value)"
                          type="number"
                          name="cidNumber"
                          maxlength="11"
                          placeholder="Cid Number"
                        />
                        <mat-error>Enter CID Number</mat-error>
                      </mat-form-field>
                    </div>
                    <div class="col-md-6">
                      <label class="col-form-label">Owner Name <span class="text-danger">*</span></label>
                      <mat-form-field appearance="outline" class="example-full-width">
                        <input
                          formControlName="ownerName"
              
                          matInput
                          name="ownerName"
                          placeholder="Owner Name"
                        
                        />
                        <mat-error>Enter Valid Owner Name</mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <br />
                 <div class="form-group row" *ngIf="firstFormGroup.value.ownershipStatus === 'Unowned'">
                    <div class="col-md-6">
                      <label class="col-form-label">StrayID (Enter any random no.)<span class="text-danger">*</span>:</label>
                      <mat-form-field appearance="outline" class="example-full-width" [hideRequiredMarker]="false">
                        <input
                          matInput
                          formControlName="cidNumber"
                          type="number"
                          name="cidNumber"
                          placeholder="(Enter any random No)"
                          maxlength="10"
                          placeholder="(Enter any random no.)"
                        />
                        <mat-error>Enter stray id</mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <br /><br />
                  <h4>Present Address</h4>
                  <div class="form-group row">
                    <div class="col-md-6">
                      <label class="col-form-label">Dzongkhag <span class="text-danger">*</span></label>
                      <mat-form-field appearance="outline" class="example-full-width">
                        <mat-select (selectionChange)="getGewogs($event.value)" formControlName="dzongkhagId">
                          <mat-option value="">Select Dzongkhag</mat-option>
                          <mat-option *ngFor="let dzongkhag of dzongkhags" [value]="dzongkhag.id">{{
                            dzongkhag.dzongkhagName
                          }}</mat-option>
                        </mat-select>
                        <mat-error>Dzongkhag is required</mat-error>
                      </mat-form-field>
                    </div>
                    <div class="col-md-6">
                      <label class="col-form-label"> Gewog<span class="text-danger">*</span></label>
                      <mat-form-field appearance="outline" class="example-full-width">
                        <mat-select formControlName="gewogId" (selectionChange)="getVillages($event.value)">
                          <mat-option value="">Select Gewog</mat-option>
                          <mat-option *ngFor="let gewog of gewogs" [value]="gewog.id">
                            {{ gewog.gewogName }}</mat-option
                          >
                        </mat-select>
                        <mat-error>Gewog is required</mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <br />
                  <div class="form-group row">
                    <div class="col-md-6">
                      <label class="col-form-label"> Village</label>
                      <mat-form-field appearance="outline" class="example-full-width">
                        <mat-select formControlName="villageId">
                          <mat-option value="">Select Village</mat-option>
                          <mat-option *ngFor="let village of villages" [value]="village.id">
                            {{ village.villageName }}</mat-option
                          >
                        </mat-select>
                        <mat-error>Gewog is required</mat-error>
                      </mat-form-field>
                    </div>
                    <div class="col-md-6">
                      <label class="col-form-label">Locality</label>
                      <mat-form-field appearance="outline" class="example-full-width">
                        <input formControlName="locality" matInput name="latitude" placeholder="Locality" />
                        <mat-error>Locality is required</mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <br />

                  <h4>Geo-Coordinates.</h4>
                  <div class="form-group row">
                    <div class="col-md-6">
                      <label class="col-form-label">Latitude<span class="text-danger">*</span></label>
                      <mat-form-field appearance="outline" class="example-full-width">
                        <input
                          formControlName="latitude"
                          onkeyup="if(this.value<0){this.value= this.value * -1}"
                          matInput
                          name="longitude"
                          type="number"
                          placeholder="Latitude"
                        />
                        <mat-error>Latitude is required</mat-error>
                      </mat-form-field>
                    </div>
                    <div class="col-md-6">
                      <label class="col-form-label">Longitude<span class="text-danger">*</span></label>
                      <mat-form-field appearance="outline" class="example-full-width">
                        <input
                          formControlName="longitude"
                          onkeyup="if(this.value<0){this.value= this.value * -1}"
                          matInput
                          name="longitude"
                          type="number"
                          placeholder="Longitude"
                        />
                        <mat-error>longitude is required</mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  <br />
                  <div class="form-group row">
                    <div class="col-md-6">
                      <label class="col-form-label"
                        >Primary Case Date (date of first case during the current follow-up)<span class="text-danger">*</span></label
                      >
                      <mat-form-field appearance="outline" class="example-full-width">
                        <input
                          [matDatepicker]="pica"
                          formControlName="primaryDate"
                          matInput
                          [max]="maxDate"
                          readonly
                          placeholder="Select Primary Case Date"
                        />
                        <mat-datepicker-toggle [for]="pica" matSuffix></mat-datepicker-toggle>
                        <mat-datepicker #pica></mat-datepicker>
                        <mat-error>Index case details required</mat-error>
                      </mat-form-field>
                    </div>
                    <div class="col-md-6">
                      <label class="col-form-label">Farming System</label>
                      <mat-form-field appearance="outline" class="example-full-width">
                        <mat-select formControlName="farmingId">
                          <mat-option value="">Select Farming System</mat-option>
                          <mat-option *ngFor="let farming of farmingSystem" [value]="farming.id">
                            {{ farming.farmName }}
                          </mat-option>
                        </mat-select>
                        <!-- <mat-error>Laboratory is required</mat-error> -->
                      </mat-form-field>
                    </div>
                  </div>
                  <br />
                  <div class="form-group row">
                    <div class="col-md-6">
                      <label class="col-form-label">Last Date of Vaccination of the affected animal/herd/flock.</label>
                      <mat-form-field appearance="outline" class="example-full-width">
                        <input
                          [matDatepicker]="picVss"
                          formControlName="lastVaccinationDate"
                          matInput
                          [max]="maxDate"
                          readonly
                          placeholder="Select Last Date of Vaccination"
                        />
                        <mat-datepicker-toggle [for]="picVss" matSuffix></mat-datepicker-toggle>
                        <mat-datepicker #picVss></mat-datepicker>
                        <!-- <mat-error>Last Date of Vaccination required</mat-error> -->
                      </mat-form-field>
                    </div>
                  </div>
                  <br />

                  <div>
                    <br />
                    <button
                      mat-raised-button
                      matStepperNext
                      [disabled]="!firstFormGroup.valid"
                      color="primary"
                      (click)="saveCaseOwner()"
                    >
                      <mat-icon>skip_next</mat-icon> Next
                    </button>
                  </div>
                </form>
              </mat-step>
              <mat-step [stepControl]="secondFormGroup" [optional]="isOptional">
                <form [formGroup]="secondFormGroup">
                  <ng-template matStepLabel>Case Details</ng-template>
                  <h5 class="p-4" style="padding-top: 20px">Follow Up Case Details ( Live Case/Dead)</h5>
                  <mat-card-actions>
                    <button mat-raised-button (click)="openAddModalFollowUpCase()" color="primary">
                      <mat-icon>add</mat-icon> Add
                    </button>
                  </mat-card-actions>
                  <table mat-table [dataSource]="dataSource3" matSort class="mat-elevation-z1">
                    <ng-container matColumnDef="slno">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Sl.No.</th>
                      <td mat-cell *matCellDef="let element; let i = index">
                        {{ paginatorRef.pageIndex * paginatorRef.pageSize + (i + 1) }}
                      </td>
                    </ng-container>
                    <ng-container matColumnDef="cidNumber">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>CID Number/stray Id</th>
                      <td mat-cell *matCellDef="let element">{{ element.cidNumber }}</td>
                    </ng-container>
                    <ng-container matColumnDef="speciesName">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Species</th>
                      <td mat-cell *matCellDef="let element">{{ element.speciesName }}</td>
                    </ng-container>
                    <ng-container matColumnDef="animalType">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Animal Type</th>
                      <td mat-cell *matCellDef="let element">{{ element.animalTypeName }}</td>
                    </ng-container>
                    <ng-container matColumnDef="breedName">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Breed</th>
                      <td mat-cell *matCellDef="let element">{{ element.breedName }}</td>
                    </ng-container>
                    <ng-container matColumnDef="age">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Age</th>
                      <td mat-cell *matCellDef="let element">{{ element.age }}</td>
                    </ng-container>
                    <ng-container matColumnDef="male">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Male</th>
                      <td mat-cell *matCellDef="let element">{{ element.male }}</td>
                    </ng-container>
                    <ng-container matColumnDef="female">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Female</th>
                      <td mat-cell *matCellDef="let element">{{ element.female }}</td>
                    </ng-container>
                    <ng-container matColumnDef="mixed">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Mixed</th>
                      <td mat-cell *matCellDef="let element">{{ element.mixed }}</td>
                    </ng-container>
                    <ng-container matColumnDef="total">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Total</th>
                      <td mat-cell *matCellDef="let element">{{ element.total }}</td>
                    </ng-container>
                    <ng-container matColumnDef="status">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
                      <td mat-cell *matCellDef="let element">{{ element.status }}</td>
                    </ng-container>
                    <ng-container matColumnDef="delete">
                      <th class="table-heading" mat-header-cell *matHeaderCellDef mat-sort-header>
                        <b>Delete</b>
                      </th>
                      <td mat-cell *matCellDef="let element">
                        <button
                          mat-icon-button
                          (click)="deleteReport(element.id, 'followUpCase', element.cidNumber)"
                          class="delete-button"
                        >
                          <mat-icon>delete</mat-icon>
                        </button>
                      </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="displayedColumns3"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns3"></tr>
                  </table>
                  <mat-paginator #paginatorRef [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons> </mat-paginator>
                  <div>
                    <button mat-raised-button matStepperNext color="primary">
                      <mat-icon>skip_next</mat-icon> Next
                    </button>
                  </div>
                </form>
              </mat-step>
              <mat-step>
                <ng-template matStepLabel>Outbreak Response</ng-template>
                <h5 class="p-4" style="padding-top: 20px">
                  Add Number of Animals Culled/Slaughtered, Examined, Treated and Vaccinated in response to the Disease
                  Outbreak.
                </h5>
                <mat-card-actions>
                  <button mat-raised-button (click)="openAddModalFate()" color="primary">
                    <mat-icon class="margin-left:800px">add</mat-icon> Add
                  </button>
                </mat-card-actions>
                <table mat-table [dataSource]="dataSource4" matSort class="mat-elevation-z1">
                  <ng-container matColumnDef="slno">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Sl.No.</th>
                    <td mat-cell *matCellDef="let element; let i = index">
                      {{ paginatorRef.pageIndex * paginatorRef.pageSize + (i + 1) }}
                    </td>
                  </ng-container>
                  <ng-container matColumnDef="cidNumber">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>CID Number</th>
                    <td mat-cell *matCellDef="let element">{{ element.cidNumber }}</td>
                  </ng-container>
                  <ng-container matColumnDef="fate">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Fate</th>
                    <td mat-cell *matCellDef="let element">{{ element.fate }}</td>
                  </ng-container>
                  <ng-container matColumnDef="speciesName">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Species</th>
                    <td mat-cell *matCellDef="let element">{{ element.speciesName }}</td>
                  </ng-container>
                  <ng-container matColumnDef="animalType">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Animal Type</th>
                    <td mat-cell *matCellDef="let element">{{ element.animalTypeName }}</td>
                  </ng-container>
                  <ng-container matColumnDef="breedName">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Breed</th>
                    <td mat-cell *matCellDef="let element">{{ element.breedName }}</td>
                  </ng-container>
                  <ng-container matColumnDef="numbers">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Number of Animals</th>
                    <td mat-cell *matCellDef="let element">{{ element.numbers }}</td>
                  </ng-container>
                  <ng-container matColumnDef="delete">
                    <th class="table-heading" mat-header-cell *matHeaderCellDef mat-sort-header>Delete</th>
                    <td mat-cell *matCellDef="let element">
                      <button
                        mat-icon-button
                        (click)="deleteReport(element.id, 'FateOfAnimal', element.cidNumber)"
                        class="delete-button"
                      >
                        <mat-icon>delete</mat-icon>
                      </button>
                    </td>
                  </ng-container>
                  <tr mat-header-row *matHeaderRowDef="displayedColumns4"></tr>
                  <tr mat-row *matRowDef="let row; columns: displayedColumns4"></tr>
                </table>
                <mat-paginator #paginatorRef [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons> </mat-paginator>

                <div>
                  <button mat-raised-button matStepperPrevious color="primary">
                    <mat-icon>skip_previous</mat-icon> Back
                  </button>
                  <button mat-raised-button (click)="getOwnerDataUser()" color="primary">
                    <mat-icon>input</mat-icon> Save
                  </button>
                </div>
              </mat-step>
            </mat-horizontal-stepper>
          </mat-dialog-content>
        </mat-card>

        <mat-card>
          <h4 class="p-3" style="background-color: #327ebd; color: #fff">View Owner Details</h4>
          <cdk-virtual-scroll-viewport
            itemSize="5"
            orientation="horizontal"
            style="height: 200px"
            class="example-viewport"
          >
            <table mat-table [dataSource]="dataSource10" matSort class="mat-elevation-z1">
              <ng-container matColumnDef="slno">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Sl.No.</th>
                <td mat-cell *matCellDef="let element; let i = index">
                  {{ paginatorRef.pageIndex * paginatorRef.pageSize + (i + 1) }}
                </td>
              </ng-container>
              <ng-container matColumnDef="cidNumber">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>CID Number</th>
                <td mat-cell *matCellDef="let element">{{ element.cidNumber }}</td>
              </ng-container>
              <ng-container matColumnDef="ownerName">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Owner Name</th>
                <td mat-cell *matCellDef="let element">{{ element.ownerName }}</td>
              </ng-container>
              <ng-container matColumnDef="dzongkhagName">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Dzongkhag Name</th>
                <td mat-cell *matCellDef="let element">{{ element.dzongkhagName }}</td>
              </ng-container>
              <ng-container matColumnDef="gewogName">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Gewog Name</th>
                <td mat-cell *matCellDef="let element">{{ element.gewogName }}</td>
              </ng-container>
              <ng-container matColumnDef="villageName">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Village Name</th>
                <td mat-cell *matCellDef="let element">{{ element.villageName }}</td>
              </ng-container>
              <ng-container matColumnDef="latitude">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Latitude</th>
                <td mat-cell *matCellDef="let element">{{ element.latitude }}</td>
              </ng-container>
              <ng-container matColumnDef="longitude">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Longitude</th>
                <td mat-cell *matCellDef="let element">{{ element.longitude }}</td>
              </ng-container>
              <ng-container matColumnDef="primaryDate">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Primary Date</th>
                <td mat-cell *matCellDef="let element">{{ element.primaryDate | date }}</td>
              </ng-container>
              <ng-container matColumnDef="farmingName">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Farming System</th>
                <td mat-cell *matCellDef="let element">{{ element.farmingName }}</td>
              </ng-container>
              <ng-container matColumnDef="lastVaccinationDate">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Last Vaccination Date</th>
                <td mat-cell *matCellDef="let element">{{ element.lastVaccinationDate | date }}</td>
              </ng-container>

              <ng-container matColumnDef="delete">
                <th class="table-heading" mat-header-cell *matHeaderCellDef mat-sort-header>Delete</th>
                <td mat-cell *matCellDef="let element">
                  <button
                    mat-icon-button
                    (click)="deleteReport(element.id, 'OwnerDetails', element.cidNumber)"
                    class="delete-button"
                  >
                    <mat-icon>delete</mat-icon>
                  </button>
                </td>
              </ng-container>
              <ng-container matColumnDef="view">
                <th class="table-heading" mat-header-cell *matHeaderCellDef mat-sort-header>View/Edit</th>
                <td mat-cell *matCellDef="let element">
                  <button mat-icon-button (click)="viewReportUser(element.cidNumber)" class="view-button">
                    <mat-icon>visibility</mat-icon>
                  </button>
                </td>
              </ng-container>
              <tr mat-header-row *matHeaderRowDef="displayedColumns10"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns10"></tr>
            </table>
          </cdk-virtual-scroll-viewport>
          <mat-paginator #paginatorRef [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
        </mat-card>
        <mat-card *ngIf="viewUser">
          <mat-expansion-panel (opened)="basicPanelOpenState = true" (opened)="basicPanelOpenState = true">
            <mat-expansion-panel-header>
              <mat-panel-title><strong>View Details </strong></mat-panel-title>
            </mat-expansion-panel-header>
            <h5 class="p-4" style="padding-top: 20px">Follow Up Case Details ( Live Case/Dead).<span class="text-danger">*</span></h5>
            <mat-card-actions>
              <button mat-raised-button (click)="openAddModalFollowUpCase()" color="primary">
                <mat-icon>add</mat-icon> Add Case
              </button>
            </mat-card-actions>
            <table mat-table [dataSource]="dataSource11" matSort class="mat-elevation-z1">
              <ng-container matColumnDef="slno">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Sl.No.</th>
                <td mat-cell *matCellDef="let element; let i = index">
                  {{ paginatorRef.pageIndex * paginatorRef.pageSize + (i + 1) }}
                </td>
              </ng-container>
              <ng-container matColumnDef="cidNumber">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>CID Number</th>
                <td mat-cell *matCellDef="let element">{{ element.cidNumber }}</td>
              </ng-container>
              <ng-container matColumnDef="speciesName">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Species</th>
                <td mat-cell *matCellDef="let element">{{ element.speciesName }}</td>
              </ng-container>
              <ng-container matColumnDef="animalType">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Animal Type</th>
                <td mat-cell *matCellDef="let element">{{ element.animalTypeName }}</td>
              </ng-container>
              <ng-container matColumnDef="breedName">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Breed</th>
                <td mat-cell *matCellDef="let element">{{ element.breedName }}</td>
              </ng-container>
              <ng-container matColumnDef="age">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Age</th>
                <td mat-cell *matCellDef="let element">{{ element.age }}</td>
              </ng-container>
              <ng-container matColumnDef="male">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Male</th>
                <td mat-cell *matCellDef="let element">{{ element.male }}</td>
              </ng-container>
              <ng-container matColumnDef="female">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Female</th>
                <td mat-cell *matCellDef="let element">{{ element.female }}</td>
              </ng-container>
              <ng-container matColumnDef="mixed">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Mixed</th>
                <td mat-cell *matCellDef="let element">{{ element.mixed }}</td>
              </ng-container>
              <ng-container matColumnDef="total">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Total</th>
                <td mat-cell *matCellDef="let element">{{ element.total }}</td>
              </ng-container>
              <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
                <td mat-cell *matCellDef="let element">{{ element.status }}</td>
              </ng-container>
              <ng-container matColumnDef="edit">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Edit</th>
                <td mat-cell *matCellDef="let element">
                  <button mat-icon-button (click)="editCase(element.id)" class="edit-button">
                    <mat-icon>edit</mat-icon>
                  </button>
                </td>
              </ng-container>
              <ng-container matColumnDef="delete">
                <th class="table-heading" mat-header-cell *matHeaderCellDef mat-sort-header>
                  <b>Delete</b>
                </th>
                <td mat-cell *matCellDef="let element">
                  <button
                    mat-icon-button
                    (click)="deleteReport(element.id, 'followUpCase', element.cidNumber)"
                    class="delete-button"
                  >
                    <mat-icon>delete</mat-icon>
                  </button>
                </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="displayedColumns11"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns11"></tr>
            </table>
            <mat-paginator #paginatorRef [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons> </mat-paginator>

            <h5 class="p-4" style="padding-top: 20px">
              Add Number of Animals Culled/Slaughtered, Examined,Treated and Vaccinated in response to the disease
              outbreak.
            </h5>
            <mat-card-actions>
              <button mat-raised-button (click)="openAddModalFate()" color="primary">
                <mat-icon>add</mat-icon> Add
              </button>
            </mat-card-actions>
            <table mat-table [dataSource]="dataSource12" matSort class="mat-elevation-z1">
              <ng-container matColumnDef="slno">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Sl.No.</th>
                <td mat-cell *matCellDef="let element; let i = index">
                  {{ paginatorRef.pageIndex * paginatorRef.pageSize + (i + 1) }}
                </td>
              </ng-container>
              <ng-container matColumnDef="cidNumber">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>CID Number</th>
                <td mat-cell *matCellDef="let element">{{ element.cidNumber }}</td>
              </ng-container>
              <ng-container matColumnDef="fate">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Fate</th>
                <td mat-cell *matCellDef="let element">{{ element.fate }}</td>
              </ng-container>
              <ng-container matColumnDef="speciesName">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Species</th>
                <td mat-cell *matCellDef="let element">{{ element.speciesName }}</td>
              </ng-container>
              <ng-container matColumnDef="animalType">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Animal Type</th>
                <td mat-cell *matCellDef="let element">{{ element.animalTypeName }}</td>
              </ng-container>
              <ng-container matColumnDef="breedName">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Breed</th>
                <td mat-cell *matCellDef="let element">{{ element.breedName }}</td>
              </ng-container>
              <ng-container matColumnDef="numbers">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Number of Animals</th>
                <td mat-cell *matCellDef="let element">{{ element.numbers }}</td>
              </ng-container>
              <ng-container matColumnDef="edit">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Edit</th>
                <td mat-cell *matCellDef="let element">
                  <button mat-icon-button (click)="editFate(element.id)" class="edit-button">
                    <mat-icon>edit</mat-icon>
                  </button>
                </td>
              </ng-container>
              <ng-container matColumnDef="delete">
                <th class="table-heading" mat-header-cell *matHeaderCellDef mat-sort-header>Delete</th>
                <td mat-cell *matCellDef="let element">
                  <button
                    mat-icon-button
                    (click)="deleteReport(element.id, 'FateOfAnimal', element.cidNumber)"
                    class="delete-button"
                  >
                    <mat-icon>delete</mat-icon>
                  </button>
                </td>
              </ng-container>
              <tr mat-header-row *matHeaderRowDef="displayedColumns12"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns12"></tr>
            </table>
            <mat-paginator #paginatorRef [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
          </mat-expansion-panel>
        </mat-card>
        <mat-card>
          <h4 style="padding-top: 10px">Clinical Signs, Lesions and Diagnosis<span class="text-danger">*</span>.</h4>
          <div class="form-group row">
            <div class="col-md-12">
              <div class="col-md-2">
                <label class="textarea">Clinical Signs</label>
              </div>
              <div class="col-md-12">
                <mat-form-field style="width: 100%" appearance="outline" type="text">
                  <textarea matInput rows="2" cols="10" matInput formControlName="clinicalSigns"> </textarea>
                </mat-form-field>
              </div>
            </div>
          </div>
          <div class="form-group row">
            <div class="col-md-12">
              <div class="col-md-2">
                <label class="text">Lesions</label>
              </div>
              <div class="col-md-12">
                <mat-form-field style="width: 100%" appearance="outline" type="text">
                  <textarea matInput rows="2" cols="10" matInput formControlName="lesions"> </textarea>
                </mat-form-field>
              </div>
            </div>
          </div>

          <div class="form-group row">
            <div class="col-md-6">
              <label class="col-form-label">Tentative Diagnosis<span class="text-danger">*</span></label>
              <mat-form-field appearance="outline" class="example-full-width">
                <mat-select formControlName="tentativeDiseaseId">
                  <mat-option value="">Select Tentative Diagnosis</mat-option>
                  <mat-option *ngFor="let disease of diseases" [value]="disease.id"
                    >{{ disease.diseaseName }}
                  </mat-option>
                </mat-select>
                <mat-error>Tentative Diagnosis required</mat-error>
              </mat-form-field>
            </div>
            <div class="col-md-6">
              <label class="col-form-label">Differential Diagnosis</label>
              <mat-form-field appearance="outline" class="example-full-width">
                <input
                  formControlName="differentialDiagnosis"
                  matInput
                  name="differentialDiagnosis"
                  placeholder="Differential Diagnosis"
                />
              </mat-form-field>
            </div>
          </div>
          <br />
          <div class="form-group row">
            <div class="col-md-12">
              <label class="col-form-label"> Laboratory Test<span class="text-danger">*</span> </label>
              <mat-radio-group
                (change)="changeSampleCollectedUser($event)"
                aria-label="Select an option"
                class="mat-radio-group p-3"
                formControlName="sampleCollected"
              >
                <mat-radio-button [value]="1">Yes</mat-radio-button>
                <mat-radio-button [value]="2">No</mat-radio-button>
              </mat-radio-group>
            </div>
          </div>

          <div *ngIf="sampleCollecteds === true">
            <h5 class="p-2" style="padding-top: 20px">Sample Details</h5>
            <div class="form-group row">
              <div class="col-md-6">
                <label class="col-form-label">Sample Type</label>
                <mat-form-field appearance="outline" class="example-full-width">
                  <mat-select formControlName="sampleId">
                    <mat-option></mat-option>
                    <mat-option *ngFor="let sample of sampleType" [value]="sample.id">
                      {{ sample.sampleName }}
                    </mat-option>
                  </mat-select>
                  <mat-error>Sample Type is required</mat-error>
                </mat-form-field>
              </div>
              <div class="col-md-6">
                <label class="col-form-label"> Type of Test</label>
                <mat-form-field appearance="outline" class="example-full-width">
                  <mat-select formControlName="testId">
                    <mat-option></mat-option>
                    <mat-option *ngFor="let test of typeOfTest" [value]="test.id">{{ test.typeoftest }} </mat-option>
                  </mat-select>
                  <mat-error>Type of Test is required</mat-error>
                </mat-form-field>
              </div>
            </div>
            <br />
            <div class="form-group row">
              <div class="col-md-6">
                <label class="col-form-label">Sample IDs</label>
                <mat-form-field appearance="outline" class="example-full-width">
                  <input formControlName="sampleIds" matInput name="outbreakId" />
                </mat-form-field>
              </div>

              <div class="col-md-6">
                <label class="col-form-label">Date For Sample Sent</label>
                <mat-form-field appearance="outline" class="example-full-width">
                  <input
                    [matDatepicker]="picSample"
                    formControlName="dateSampleSent"
                    [max]="maxDate"
                    matInput
                    readonly
                  />
                  <mat-datepicker-toggle [for]="picSample" matSuffix></mat-datepicker-toggle>
                  <mat-datepicker #picSample></mat-datepicker>
                  <mat-error>Date For Sample Sent required</mat-error>
                </mat-form-field>
              </div>
            </div>
            <br />
            <div class="form-group row">
              <div class="col-md-6">
                <label class="col-form-label">Laboratory</label>
                <mat-form-field appearance="outline" class="example-full-width">
                  <mat-select formControlName="laboratoryId">
                    <mat-option></mat-option>
                    <mat-option *ngFor="let lab of laboratorys" [value]="lab.id">{{ lab.labName }} </mat-option>
                  </mat-select>
                  <mat-error>Laboratory is required</mat-error>
                </mat-form-field>
              </div>
              <div class="col-md-6">
                <label class="col-form-label">Date Of Result Received</label>
                <mat-form-field appearance="outline" class="example-full-width">
                  <input
                    [matDatepicker]="pics"
                    formControlName="dateResultReceived"
                    [max]="maxDate"
                    matInput
                    readonly
                  />
                  <mat-datepicker-toggle [for]="pics" matSuffix></mat-datepicker-toggle>
                  <mat-datepicker #pics></mat-datepicker>
                  <mat-error>Date For Result Received required</mat-error>
                </mat-form-field>
              </div>
            </div>
            <br />
            <div class="form-group row">
              <div class="col-md-6">
                <label class="col-form-label">Test Result</label>
                <mat-form-field appearance="outline" class="example-full-width">
                  <mat-select formControlName="resultId">
                    <mat-option></mat-option>
                    <mat-option *ngFor="let result of testResult" [value]="result.id">
                      {{ result.resultName }}
                    </mat-option>
                  </mat-select>
                  <mat-error>Test Result is required</mat-error>
                </mat-form-field>
              </div>
              <div class="col-md-6">
                <label class="col-form-label">Final Diagnosis</label>
                <mat-form-field appearance="outline" class="example-full-width">
                  <mat-select formControlName="finalDiseaseId">
                    <mat-option></mat-option>
                    <mat-option *ngFor="let disease of diseases" [value]="disease.id">
                      {{ disease.diseaseName }}
                    </mat-option>
                  </mat-select>
                  <mat-error>Final Diagnosis is required</mat-error>
                </mat-form-field>
              </div>
            </div>
            <br />
            <div class="form-group row">
              <div class="col-md-6">
                <label class="col-form-label">Basis Of Diagnosis</label>
                <mat-form-field appearance="outline" class="example-full-width">
                  <mat-select formControlName="basisDiagnosisId">
                    <mat-option></mat-option>
                    <mat-option *ngFor="let bas of basis" [value]="bas.id">{{ bas.basisName }} </mat-option>
                  </mat-select>
                  <mat-error>Basis of Diagnosis is required</mat-error>
                </mat-form-field>
              </div>

              <div class="col-md-6">
                <label class="col-form-label">Diagnosing Officer</label>
                <mat-form-field appearance="outline" class="example-full-width">
                  <input formControlName="diagnosingOfficer" matInput name="outbreakId" />
                </mat-form-field>
              </div>
            </div>
          </div>

          <div class="form-group row" *ngIf="sampleCollecteds === false">
            <div class="col-md-6">
              <label class="col-form-label">Final Diagnosis</label>
              <mat-form-field appearance="outline" class="example-full-width">
                <mat-select formControlName="tentativeDiseaseId" disabled>
                  <mat-option value="">Select Tentative Diagnosis</mat-option>
                  <mat-option *ngFor="let disease of diseases" [value]="disease.id"
                    >{{ disease.diseaseName }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div class="col-md-6">
              <label class="col-form-label">Basis of Diagnosis</label>
              <mat-form-field appearance="outline" class="example-full-width">
                <mat-select formControlName="finalBasisDiagnosisId">
                  <mat-option></mat-option>
                  <mat-option *ngFor="let bas of basis" [value]="bas.id">{{ bas.basisName }} </mat-option>
                </mat-select>
                <mat-error>Basis Of Diagnosis is required</mat-error>
              </mat-form-field>
            </div>
          </div>
          <br />
          <hr />
          <h5>Epidemiology and Other Details</h5>

          <h6 style="padding-top: 20px">Susceptible Animals<span class="text-danger">*</span></h6>
          <mat-card-actions>
            <button mat-raised-button (click)="openAddModalSusceptibleFollowUp()" color="primary">
              <mat-icon>add</mat-icon> Add
            </button>
          </mat-card-actions>
          <table mat-table [dataSource]="dataSource13" matSort class="mat-elevation-z1">
            <ng-container matColumnDef="slno">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Sl.No.</th>
              <td mat-cell *matCellDef="let element; let i = index">
                {{ paginatorRef.pageIndex * paginatorRef.pageSize + (i + 1) }}
              </td>
            </ng-container>
            <ng-container matColumnDef="speciesName">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Species</th>
              <td mat-cell *matCellDef="let element">{{ element.speciesName }}</td>
            </ng-container>
            <ng-container matColumnDef="animalType">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Animal Type</th>
              <td mat-cell *matCellDef="let element">{{ element.animalTypeName }}</td>
            </ng-container>
            <ng-container matColumnDef="susceptibleAnimals">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Susceptible Animals</th>
              <td mat-cell *matCellDef="let element">{{ element.susceptibleAnimals }}</td>
            </ng-container>
            <ng-container matColumnDef="edit">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Edit</th>
              <td mat-cell *matCellDef="let element">
                <button mat-icon-button (click)="editSusceptibleFollowUp(element.id)" class="edit-button">
                  <mat-icon>edit</mat-icon>
                </button>
              </td>
            </ng-container>
            <ng-container matColumnDef="delete">
              <th class="table-heading" mat-header-cell *matHeaderCellDef mat-sort-header>Delete</th>
              <td mat-cell *matCellDef="let element">
                <button
                  mat-icon-button
                  (click)="deleteReport(element.id, 'FollowUpSusceptible', element.cidNumber)"
                  class="delete-button"
                >
                  <mat-icon>delete</mat-icon>
                </button>
              </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns13"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns13"></tr>
          </table>
          <mat-paginator #paginatorRef [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
          <h6>Probable source of the outbreak<span class="text-danger">*</span></h6>
          <div class="form-group row">
            <div class="col-md-12">
              <div class="col-md-12">
                <mat-form-field style="width: 100%" appearance="outline" type="text">
                  <textarea matInput rows="2" cols="10" matInput formControlName="probableSource" required> </textarea>
                  <mat-error>Probable source of the outbreak is required</mat-error>
                </mat-form-field>
              </div>
            </div>
          </div>
          <h6>Control Measures Implemented.<span class="text-danger">*</span></h6>
          <div class="form-group row">
            <div class="col-md-12">
              <div class="col-md-12">
                <mat-form-field style="width: 100%" appearance="outline" type="text">
                  <textarea matInput rows="2" cols="10" matInput formControlName="controlMeasures" required> </textarea>
                  <mat-error>Control Measures is required</mat-error>
                </mat-form-field>
              </div>
            </div>
          </div>
        </mat-card>
        <mat-card-actions style="margin-top: 10px; margin-left: 10px">
          <button (click)="saveFollowUp()" color="primary" mat-raised-button>Submit</button>
        </mat-card-actions>
      </form>
    </div>
  </div>
</mat-card>
